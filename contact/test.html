<!-- Ajax form loader -->

<!-- Change the src url below if necessary -->
<script src="https://www.phpformbuilder.pro/phpformbuilder/plugins/ajax-data-loader/ajax-data-loader.min.js"></script>

<script>
    // --- SETUP YOUR FORM(S) BELOW IN THE "ajaxForms" VARIABLE ---
    var ajaxForms = [
        {
            formId: 'fg-form',
            container: '#fg-form-loader',
            url: '/ajax-forms/fg-form.php'
        }
    ];

    // --- NO NEED TO CHANGE ANYTHING AFTER THIS LINE ---
    // --- COPY/PASTE THE FOLLOWING CODE IN THE HTML FILE THAT WILL LOAD THE FORM ---

    document.addEventListener('DOMContentLoaded', function() {
        ajaxForms.forEach(function(currentForm) {
            const $formContainer = document.querySelector(currentForm.container);
            if (typeof($formContainer.dataset.ajaxForm) === 'undefined') {
                fetch(currentForm.url)
                .then((response) => {
                    return response.text()
                })
                .then((data) => {
                    $formContainer.innerHTML = '';
                    $formContainer.dataset.ajaxForm = currentForm;
                    $formContainer.dataset.ajaxFormId = currentForm.formId;
                    loadData(data, currentForm.container);
                }).catch((error) => {
                    console.log(error);
                });
            }
        });
    });
</script>
</body>
<div id="fg-form-loader"></div>
